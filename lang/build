#!/bin/bash
# Build and install YAPL compiler components
# Binaries are installed to GOBIN (typically ~/go/bin)
#
# For development, you can also build locally and set YAPL:
#   cd ylex && go build -o ylex . && cd ..
#   (repeat for yparse, ysem, ygen, ya)
#   export YAPL=/path/to/lang
#
cd "$(dirname "$0")"

echo build ylex
cd ylex && go build && go test && go install && \
echo build yparse
cd ../yparse && go build && go test && go install && \
echo build ysem
cd ../ysem && go build && go test && go install && \
echo build ygen
cd ../ygen && go install && \
echo build ya
cd ../ya && go install
