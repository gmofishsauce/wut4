#bank code
; thisdiagnostic  program loads as a bootstrap so physical page 0 is double mapped
outport = 96
    ldi r2, outport
    ldi r3, data ;  address of msg
loop:
    ldb r1, r3, 0
    adi r0, r1, 0
    br z, done
    ssp r1, r2
    adi r3, r3, 1
    br loop
done:
    hlt
#addr 0x40
data:
#d "hello, world\n\0"

